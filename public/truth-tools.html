<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Truth Tools | Miroir - Interactive Reflection Instruments</title>
  <meta name="description" content="Explore interactive tools designed to help you discover, understand, and articulate your authentic self and experiences." />
  <link rel="stylesheet" href="/styles/unified.css" />
</head>
<body class="loading">
  <!-- Skip link for accessibility -->
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <!-- Background effects -->
  <canvas id="bgCanvas" class="bg-canvas" aria-hidden="true"></canvas>
  <div class="bg-gradient" aria-hidden="true"></div>

  <!-- Navigation -->
  <button class="nav-toggle" 
          aria-label="Toggle navigation menu" 
          aria-expanded="false"
          aria-controls="navigation-menu">
    <span></span>
    <span></span>
    <span></span>
  </button>

  <nav class="nav-menu" 
       id="navigation-menu" 
       role="navigation" 
       aria-label="Main navigation"
       aria-hidden="true">
    <a href="/index.html">Home</a>
    <a href="/about.html">About</a>
    <a href="/my-miroir.html">My Miroir</a>
    <a href="/our-miroirs.html">Our Miroirs</a>
    <a href="/living-archive.html">Living Archive</a>
    <a href="/reflections.html">Reflections</a>
    <a href="/publications.html">Publications</a>
  </nav>

  <!-- Main content -->
  <main class="container py-xl" id="main-content">
    <header class="text-center mb-2xl">
      <img src="/miroir.png" 
           alt="Miroir Logo" 
           class="logo logo-glow mb-lg" />
      <h1 class="text-accent mb-md">Truth Tools</h1>
      <p class="text-lg text-secondary">Interactive instruments for authentic self-discovery</p>
    </header>

    <section class="mb-2xl scroll-reveal">
      <div class="card text-center mb-xl" style="max-width: 700px; margin: 0 auto;">
        <h2 class="card-title">Instruments of Authenticity</h2>
        <p class="text-secondary mb-lg">
          These tools are designed to help you cut through the noise of external expectations 
          and social conditioning to discover what is genuinely true for you. Each instrument 
          offers a different pathway to self-understanding and authentic expression.
        </p>
        <blockquote class="quote text-base mb-lg">
          The truth will set you free, but first it will challenge everything you thought you knew about yourself.
        </blockquote>
      </div>
    </section>

    <section class="mb-2xl">
      <h2 class="text-center text-accent mb-xl">Available Tools</h2>
      
      <div class="grid grid-cols-1 gap-lg mb-xl" style="max-width: 1200px; margin: 0 auto;">
        <article class="card scroll-reveal">
          <h3 class="card-title">Values Archaeologist</h3>
          <p class="text-secondary mb-md">
            Excavate your core values from beneath layers of societal conditioning and family expectations. 
            This interactive tool helps you identify what truly matters to you, not what you think should matter.
          </p>
          <div class="flex gap-md mb-md">
            <span class="text-xs bg-accent px-sm py-xs rounded text-primary font-bold">INTERACTIVE</span>
            <span class="text-xs bg-secondary px-sm py-xs rounded text-primary">15-20 MIN</span>
          </div>
          <button class="btn btn-primary btn-sm" onclick="openTool('values-archaeologist')">
            Explore Your Values
          </button>
        </article>

        <article class="card scroll-reveal">
          <h3 class="card-title">Emotion Cartographer</h3>
          <p class="text-secondary mb-md">
            Map the landscape of your emotional world with precision and nuance. Move beyond 
            simple labels to understand the rich complexity of what you actually feel.
          </p>
          <div class="flex gap-md mb-md">
            <span class="text-xs bg-accent px-sm py-xs rounded text-primary font-bold">INTERACTIVE</span>
            <span class="text-xs bg-secondary px-sm py-xs rounded text-primary">10-15 MIN</span>
          </div>
          <button class="btn btn-primary btn-sm" onclick="openTool('emotion-cartographer')">
            Map Your Emotions
          </button>
        </article>

        <article class="card scroll-reveal">
          <h3 class="card-title">Story Surgeon</h3>
          <p class="text-secondary mb-md">
            Examine the narratives you tell yourself about your life. Identify which stories 
            serve your growth and which limit your potential for authentic expression.
          </p>
          <div class="flex gap-md mb-md">
            <span class="text-xs bg-accent px-sm py-xs rounded text-primary font-bold">REFLECTIVE</span>
            <span class="text-xs bg-secondary px-sm py-xs rounded text-primary">20-30 MIN</span>
          </div>
          <button class="btn btn-primary btn-sm" onclick="openTool('story-surgeon')">
            Examine Your Stories
          </button>
        </article>

        <article class="card scroll-reveal">
          <h3 class="card-title">Decision Oracle</h3>
          <p class="text-secondary mb-md">
            A guided process for making decisions that align with your authentic self rather than 
            external pressures. Learn to trust your inner wisdom in complex situations.
          </p>
          <div class="flex gap-md mb-md">
            <span class="text-xs bg-accent px-sm py-xs rounded text-primary font-bold">GUIDED</span>
            <span class="text-xs bg-secondary px-sm py-xs rounded text-primary">25-35 MIN</span>
          </div>
          <button class="btn btn-primary btn-sm" onclick="openTool('decision-oracle')">
            Consult the Oracle
          </button>
        </article>
      </div>
    </section>

    <section class="mb-2xl">
      <h2 class="text-center text-accent mb-xl">Quick Truth Check</h2>
      
      <div class="card scroll-reveal" style="max-width: 800px; margin: 0 auto;">
        <h3 class="card-title">Daily Authenticity Assessment</h3>
        <p class="text-secondary mb-lg">
          A brief daily practice to check in with your authentic self. Rate how true to yourself 
          you felt today across different dimensions of your life.
        </p>
        
        <div class="mb-lg">
          <div class="mb-md">
            <label class="block text-base font-medium text-primary mb-sm">
              How authentic did you feel in your relationships today?
            </label>
            <div class="flex gap-sm items-center">
              <span class="text-sm text-muted">Not at all</span>
              <input type="range" min="1" max="10" value="5" class="flex-1" 
                     style="background: var(--bg-secondary); accent-color: var(--accent-primary);"
                     oninput="updateRangeValue(this, 'relationships-value')">
              <span class="text-sm text-muted">Completely</span>
              <span id="relationships-value" class="text-accent font-bold min-w-[2rem] text-center">5</span>
            </div>
          </div>
          
          <div class="mb-md">
            <label class="block text-base font-medium text-primary mb-sm">
              How aligned were your actions with your values?
            </label>
            <div class="flex gap-sm items-center">
              <span class="text-sm text-muted">Not aligned</span>
              <input type="range" min="1" max="10" value="5" class="flex-1"
                     style="background: var(--bg-secondary); accent-color: var(--accent-primary);"
                     oninput="updateRangeValue(this, 'values-value')">
              <span class="text-sm text-muted">Perfectly aligned</span>
              <span id="values-value" class="text-accent font-bold min-w-[2rem] text-center">5</span>
            </div>
          </div>
          
          <div class="mb-lg">
            <label class="block text-base font-medium text-primary mb-sm">
              How much did you honor your emotional truth?
            </label>
            <div class="flex gap-sm items-center">
              <span class="text-sm text-muted">Ignored it</span>
              <input type="range" min="1" max="10" value="5" class="flex-1"
                     style="background: var(--bg-secondary); accent-color: var(--accent-primary);"
                     oninput="updateRangeValue(this, 'emotions-value')">
              <span class="text-sm text-muted">Fully honored</span>
              <span id="emotions-value" class="text-accent font-bold min-w-[2rem] text-center">5</span>
            </div>
          </div>
        </div>
        
        <div class="flex justify-center gap-md">
          <button class="btn btn-ghost btn-sm" onclick="resetAssessment()">
            Reset
          </button>
          <button class="btn btn-primary btn-sm" onclick="completeAssessment()">
            Complete Assessment
          </button>
        </div>
        
        <div id="assessment-result" class="mt-lg text-center hidden">
          <h4 class="text-lg text-accent mb-sm">Your Authenticity Score</h4>
          <div id="score-display" class="text-3xl font-bold text-accent mb-md"></div>
          <p id="score-interpretation" class="text-secondary"></p>
        </div>
      </div>
    </section>

    <section class="text-center scroll-reveal">
      <h2 class="text-accent mb-lg">The Practice of Truth</h2>
      <p class="text-lg text-secondary mb-xl" style="max-width: 600px; margin: 0 auto;">
        Authenticity is not a destination but a daily practice. These tools are starting points 
        for a lifelong journey of honest self-discovery and courageous truth-telling.
      </p>
      
      <div class="flex justify-center gap-md flex-wrap">
        <a href="/my-miroir.html" class="btn btn-primary">
          Start Your Journey
        </a>
        <a href="/living-archive.html" class="btn btn-ghost">
          Explore Stories
        </a>
      </div>
    </section>
  </main>

  <!-- Tool Modal Template -->
  <div id="tool-modal" class="hidden fixed inset-0 bg-overlay-dark z-modal flex items-center justify-center p-md">
    <div class="bg-secondary border border-accent rounded-lg p-xl max-w-lg w-full max-h-[80vh] overflow-y-auto">
      <div class="flex justify-between items-center mb-lg">
        <h3 id="modal-title" class="text-xl text-accent font-bold"></h3>
        <button onclick="closeToolModal()" class="text-2xl text-muted hover:text-accent transition-colors">×</button>
      </div>
      <div id="modal-content" class="text-secondary">
        <!-- Tool content will be loaded here -->
      </div>
    </div>
  </div>

  <!-- Background music -->
  <audio id="bgMusic" loop preload="auto" aria-label="Ambient background music">
    <source src="/relaxing-electronic-ambient-music-354471.mp3" type="audio/mpeg" />
    <p>Your browser does not support the audio element.</p>
  </audio>

  <!-- Music toggle -->
  <button id="musicToggle" 
          class="music-toggle" 
          aria-label="Toggle background music"
          title="Toggle background music">
    <svg viewBox="0 0 24 24" aria-hidden="true">
      <path d="M3 9v6h4l5 5V4L7 9H3z"></path>
    </svg>
  </button>

  <!-- Unified JavaScript -->
  <script src="/scripts/unified.js"></script>
  
  <script>
    // Tool functionality
    function updateRangeValue(input, targetId) {
      document.getElementById(targetId).textContent = input.value;
    }
    
    function resetAssessment() {
      const ranges = document.querySelectorAll('input[type="range"]');
      ranges.forEach(range => {
        range.value = 5;
        const targetId = range.getAttribute('oninput').match(/'([^']+)'/)[1];
        document.getElementById(targetId).textContent = '5';
      });
      
      document.getElementById('assessment-result').classList.add('hidden');
      
      if (window.miroirApp) {
        window.miroirApp.announceToScreenReader('Assessment reset');
      }
    }
    
    function completeAssessment() {
      const ranges = document.querySelectorAll('input[type="range"]');
      let total = 0;
      
      ranges.forEach(range => {
        total += parseInt(range.value);
      });
      
      const average = (total / ranges.length).toFixed(1);
      const percentage = Math.round((average / 10) * 100);
      
      document.getElementById('score-display').textContent = `${percentage}%`;
      
      let interpretation = '';
      if (percentage >= 80) {
        interpretation = 'Excellent! You\'re living with strong authenticity. Keep nurturing this alignment.';
      } else if (percentage >= 60) {
        interpretation = 'Good progress. There are areas where you can deepen your authentic expression.';
      } else if (percentage >= 40) {
        interpretation = 'You\'re on the journey. Consider exploring the tools above to strengthen your authentic voice.';
      } else {
        interpretation = 'This is a starting point. Be gentle with yourself as you explore what authentic living means for you.';
      }
      
      document.getElementById('score-interpretation').textContent = interpretation;
      document.getElementById('assessment-result').classList.remove('hidden');
      
      if (window.miroirApp) {
        window.miroirApp.announceToScreenReader(`Assessment complete. Your authenticity score is ${percentage} percent.`);
      }
    }
    
    function openTool(toolName) {
      const modal = document.getElementById('tool-modal');
      const title = document.getElementById('modal-title');
      const content = document.getElementById('modal-content');
      
      const tools = {
        'values-archaeologist': {
          title: 'Values Archaeologist',
          content: `
            <p class="mb-md">This tool is currently in development. It will help you:</p>
            <ul class="list-disc list-inside text-secondary space-y-2 mb-lg">
              <li>Identify your core values through guided exercises</li>
              <li>Distinguish between inherited and chosen values</li>
              <li>Explore how your values show up in daily decisions</li>
              <li>Create a personal values hierarchy</li>
            </ul>
            <p class="text-accent">Coming soon - Stay tuned for updates!</p>
          `
        },
        'emotion-cartographer': {
          title: 'Emotion Cartographer',
          content: `
            <p class="mb-md">This interactive tool will feature:</p>
            <ul class="list-disc list-inside text-secondary space-y-2 mb-lg">
              <li>An emotional spectrum mapper</li>
              <li>Nuanced emotion identification exercises</li>
              <li>Body awareness and emotion connection</li>
              <li>Emotional pattern recognition</li>
            </ul>
            <p class="text-accent">Currently in development - Coming soon!</p>
          `
        },
        'story-surgeon': {
          title: 'Story Surgeon',
          content: `
            <p class="mb-md">This reflective tool will help you:</p>
            <ul class="list-disc list-inside text-secondary space-y-2 mb-lg">
              <li>Examine your personal narratives</li>
              <li>Identify limiting vs. empowering stories</li>
              <li>Rewrite stories that no longer serve you</li>
              <li>Create new narratives aligned with your authentic self</li>
            </ul>
            <p class="text-accent">In development - Watch for upcoming release!</p>
          `
        },
        'decision-oracle': {
          title: 'Decision Oracle',
          content: `
            <p class="mb-md">This guided process will include:</p>
            <ul class="list-disc list-inside text-secondary space-y-2 mb-lg">
              <li>Values-based decision making framework</li>
              <li>Intuition vs. logic integration</li>
              <li>Future self consultation exercises</li>
              <li>Decision confidence building tools</li>
            </ul>
            <p class="text-accent">Coming soon - Complex decisions made clearer!</p>
          `
        }
      };
      
      const tool = tools[toolName];
      if (tool) {
        title.textContent = tool.title;
        content.innerHTML = tool.content;
        modal.classList.remove('hidden');
        
        // Focus management
        modal.focus();
        
        if (window.miroirApp) {
          window.miroirApp.announceToScreenReader(`Opened ${tool.title} tool information`);
        }
      }
    }
    
    function closeToolModal() {
      const modal = document.getElementById('tool-modal');
      modal.classList.add('hidden');
      
      if (window.miroirApp) {
        window.miroirApp.announceToScreenReader('Tool information closed');
      }
    }
    
    // Close modal with Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeToolModal();
      }
    });
    
    // Close modal when clicking outside
    document.getElementById('tool-modal').addEventListener('click', (e) => {
      if (e.target.id === 'tool-modal') {
        closeToolModal();
      }
    });
  </script>
</body>
</html>